<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="script.js">
    
</head>
<body>
    
    <header>
    <h1>Tic Tac Toe</h1>
    <h2 class = "firstClass">Player 1 turn
    
    </h2>
    <h2 class = "secondClass">Player 2 turn</h2>
   
     </header>
  
    </div>
   <div class = "section">
    <div class = "section1">
    <table class = table>
          <tr class = "first1Box">
           <td class = "firstBox"></td>
          <td class = "secondBox"></td>
          <td class = "thirdBox"></td> 
        </tr>
        <tr class = "second2Box">
          <td class = "secondFirstBox"></td>
          <td class = "secondSecondBox" ></td>
          <td class = "secondThirdBox"></td> 
        </tr>
        <tr class = "third3Box">
          <td class = "thirdFirstBox"></td>
          <td class = "secondThirdBox"></td>
          <td class = "thirdThirdBox"></td> 
        </tr>
      </table>
      <div class = "button">
     <button class = "reset">Reset</button>
        <div class = "scores">
        <div class="player1Score">
     <p class = "player1Score">Player 1 Score</p>
    
     <p class = "score1">0</p>
    </div>
    <div class="player2Score">
     <p class = "player2Score">Player 2 Score</p>
     <p class = "score2">0</p>
    </div>
    </div>
 
    </div>
    </div>
</div>

<script>
var players =["X","O"]

var playersTurn = 0;
var tableBox = document.querySelector(".table")
var count = 0;


function reset(){
   
    var reset = document.querySelector(".reset");
    reset.addEventListener('click', function(){
        
        window.location.reload();
        
    })
}

 reset();
console.log("meow");


tableBox.addEventListener('click', clickHandler)



function clickHandler(event){
    
     let box = event.target
     if(box.textContent !== "")return;

    
     event.preventDefault()
     console.log(box.tagName);
    if(box.tagName === "TD"){
     
      
        if(box.textContent === "" && playersTurn === 0){
                box.textContent = players[0];
        //    box.textContent.functionToShow('firstClass','text1', this); return false;    
         functionToShow();
           playersTurn++;
            count++;
            return;
        } else {
             box.textContent = players[1];
             functionToShow();
             box.classList.toggle( '.firstClass')
            playersTurn = 0;
            count++;
           
        }
      

 function compareChoice(){

 
    // For 1st td horizontal win
    for(var i = 0; i <= players.length;i++){
      if(tableBox.children[0].children[0].children[0].textContent === players[i]&&
    tableBox.children[0].children[0].children[1].textContent === players[i] &&   
    tableBox.children[0].children[0].children[2].textContent === players[i] ){
        console.log("meow");
        tableBox.children[0].children[0].children[0].style.borderColor = "rgb(0, 255, 247)";

        tableBox.children[0].children[0].children[1].style.borderColor = "rgb(0, 255, 247)";

        tableBox.children[0].children[0].children[2].style.borderColor = "rgb(0, 255, 247)";

    if(tableBox.children[0].children[0].children[0].textContent === players[0]&&
    tableBox.children[0].children[0].children[1].textContent === players[0]&&   
    tableBox.children[0].children[0].children[2].textContent === players[0] ){
        displayResult("Player 1 Won");
          tableBox.removeEventListener("click", clickHandler);
        return;
    } else {
        displayResult("Player 2 Won");
        tableBox.removeEventListener("click", clickHandler);
        return;
    } 
    } 
   
  }  
 
    // For 2nd td horizontal tag
   for(var i = 0; i < players.length;i++){
    if(tableBox.children[0].children[1].children[0].textContent=== players[i] &&
    tableBox.children[0].children[1].children[1].textContent === players[i] &&  
    tableBox.children[0].children[1].children[2].textContent === players[i] ){

        tableBox.children[0].children[0].children[2].style.borderBottom = "1px solid rgb(0, 255, 247)";

        tableBox.children[0].children[0].children[0].style.borderBottom = "1px solid rgb(0, 255, 247)";
      
        tableBox.children[0].children[0].children[1].style.borderBottom = "1px solid rgb(0, 255, 247)" ;

        
        tableBox.children[0].children[1].children[0].style.
        borderColor = "rgb(0, 255, 247)";

     tableBox.children[0].children[1].children[1].style.
        borderColor = "rgb(0, 255, 247)";


        tableBox.children[0].children[1].children[2].style.
        borderColor = "rgb(0, 255, 247)";



    if(tableBox.children[0].children[1].children[0].textContent === players[0]&&
    tableBox.children[0].children[1].children[1].textContent === players[0]&&   
    tableBox.children[0].children[1].children[2].textContent === players[0] ){
        displayResult('Player 1 Won');
        tableBox.removeEventListener("click", clickHandler);
        return;
        
    } else {
        displayResult("player 2 Won");
        tableBox.removeEventListener("click", clickHandler);
        return;
    }
    }}
     
    //For 3rd td horizontal tag
    for(var i = 0; i < players.length;i++){
    if(tableBox.children[0].children[2].children[0].textContent === players[i] &&
    tableBox.children[0].children[2].children[1].textContent === players[i] &&  
    tableBox.children[0].children[2].children[2].textContent === players[i] ){
    console.log("anusha");
         tableBox.children[0].children[2].children[0].style.borderColor = "rgb(0, 255, 247)";


        tableBox.children[0].children[2].children[1].style.borderColor = "rgb(0, 255, 247)";


         tableBox.children[0].children[2].children[2].style.borderColor = "rgb(0, 255, 247)";


    if(tableBox.children[0].children[2].children[0].textContent === players[0]&&
    tableBox.children[0].children[2].children[1].textContent === players[0]&&   
    tableBox.children[0].children[2].children[2].textContent === players[0] ){
        displayResult('Player 1 Won');
        tableBox.removeEventListener("click", clickHandler);
    } else {
        displayResult("player 2 Won");
        tableBox.removeEventListener("click", clickHandler);
        return;
    }
    }}

    //For 1st td tag vertical
    for(var i = 0; i < players.length;i++){
    if(tableBox.children[0].children[0].children[0].textContent ===  players[i] &&
    tableBox.children[0].children[1].children[0].textContent === players[i] && tableBox.children[0].children[2].children[0].textContent === players[i] 
     ){
        tableBox.children[0].children[0].children[0].style.borderColor = "rgb(0, 255, 247)";


        tableBox.children[0].children[1].children[0].style.borderColor = "rgb(0, 255, 247)";


        tableBox.children[0].children[2].children[0].style.borderColor = "rgb(0, 255, 247)";

    
    if(tableBox.children[0].children[0].children[0].textContent === players[0]&&
    tableBox.children[0].children[1].children[0].textContent === players[0]&&   
    tableBox.children[0].children[2].children[0].textContent === players[0] ){
        displayResult('Player 1 Won');
        tableBox.removeEventListener("click", clickHandler);
         return;
    } else {
        displayResult("player 2 Won");
        tableBox.removeEventListener("click", clickHandler);
    }}
    }

    // //For 2nd td tag vertical
    for(var i = 0; i < players.length;i++){
    if( tableBox.children[0].children[0].children[1].textContent === players[i] &&
    tableBox.children[0].children[1].children[1].textContent === players[i]  && tableBox.children[0].children[2].children[1].textContent === players[i]
     ){
        tableBox.children[0].children[0].children[0].style.borderRight = "1px solid rgb(0, 255, 247)";

        tableBox.children[0].children[1].children[0].style.borderRight = "1px solid rgb(0, 255, 247)";

        tableBox.children[0].children[2].children[0].style.borderRight = "1px solid rgb(0, 255, 247)";

        tableBox.children[0].children[0].children[1].style.borderColor = "rgb(0, 255, 247)";


        tableBox.children[0].children[1].children[1].style.borderColor = "rgb(0, 255, 247)";


        tableBox.children[0].children[2].children[1].style.borderColor = "rgb(0, 255, 247)";

    if(tableBox.children[0].children[0].children[1].textContent === players[0]&&
    tableBox.children[0].children[1].children[1].textContent === players[0]&&   
    tableBox.children[0].children[2].children[1].textContent === players[0] ){
        displayResult('Player 1 Won');
        tableBox.removeEventListener("click", clickHandler);
         return;
         
    } else {
        displayResult("player 2 Won");
        tableBox.removeEventListener("click", clickHandler);
    }
    }}

    //For 3rd td tag vertical
    for(var i = 0; i < players.length;i++){  
    if( tableBox.children[0].children[0].children[2].textContent === players[i]  &&
    tableBox.children[0].children[1].children[2].textContent === players[i]  && tableBox.children[0].children[2].children[2].textContent === players[i])
    {
        tableBox.children[0].children[0].children[1].style.borderRight = "1px solid rgb(0, 255, 247)";

        tableBox.children[0].children[1].children[1].style.borderRight = "1px solid rgb(0, 255, 247)";

        tableBox.children[0].children[2].children[1].style.borderColor = "rgb(0, 255, 247)";

        tableBox.children[0].children[0].children[2].style.borderColor = "rgb(0, 255, 247)";


        tableBox.children[0].children[1].children[2].style.borderColor = "rgb(0, 255, 247)";


        tableBox.children[0].children[2].children[2].style.borderColor = "rgb(0, 255, 247)";


    if(tableBox.children[0].children[0].children[2].textContent === players[0]&&
    tableBox.children[0].children[1].children[2].textContent === players[0]&&   
    tableBox.children[0].children[2].children[2].textContent === players[0] ){
        displayResult('Player 1 Won');
        tableBox.removeEventListener("click", clickHandler);
    } else {
        displayResult("player 2 Won");
        tableBox.removeEventListener("click", clickHandler);
        return;
    } 
    }
}
    // //For 1st Cross
    for(var i = 0; i < players.length;i++){ 
        console.log("1");
    if(tableBox.children[0].children[0].children[0].textContent === players[i] && tableBox.children[0].children[1].children[1].textContent === players[i] && tableBox.children[0].children[2].children[2].textContent === players[i])
    { 
        console.log("2");
        tableBox.children[0].children[1].children[2].style.borderColor = "rgb(0, 255, 247)"; 
        tableBox.children[0].children[2].children[1].style.borderRight = "1px solid rgba(0, 255, 247)";

        tableBox.children[0].children[1].children[0].style.borderRight = "1px solid rgba(0, 255, 247)";

        tableBox.children[0].children[0].children[1].style.borderBottom = "1px solid rgba(0, 255, 247)";

        tableBox.children[0].children[2].children[1].style.borderColor = "rgb(0, 255, 247)";

        tableBox.children[0].children[0].children[0].style.borderColor = "rgb(0, 255, 247)";


       tableBox.children[0].children[1].children[1].style.borderColor = "rgb(0, 255, 247)";


       tableBox.children[0].children[2].children[2].style.borderColor = "rgb(0, 255, 247)";

if(tableBox.children[0].children[0].children[0].textContent === players[0]&&
tableBox.children[0].children[1].children[1].textContent === players[0]&&   
tableBox.children[0].children[2].children[2].textContent === players[0] ){
        displayResult('Player 1 Won');
        tableBox.removeEventListener("click", clickHandler);
     return;
    } else {
       displayResult("player 2 Won");
       tableBox.removeEventListener("click", clickHandler);
       return;
    }
    }}

    //For 2nd Cross
     
    for(var i = 0; i < players.length;i++){ 
        console.log("meow");
    if(tableBox.children[0].children[0].children[2].textContent === players[i] &&  tableBox.children[0].children[1].children[1].textContent === players[i] && tableBox.children[0].children[2].children[0].textContent === players[i])
    {
 console.log("meow1");
        tableBox.children[0].children[1].children[0].style.borderBottom = "1px solid rgb(0, 255, 247)"; 

        tableBox.children[0].children[0].children[1].style.borderRight = "1px solid rgb(0, 255, 247)";

        tableBox.children[0].children[0].children[1].style.borderBottom = "1px solid rgb(0, 255, 247)" ;

        tableBox.children[0].children[1].children[0].style.borderRight = "1px solid rgb(0, 255, 247)";

        tableBox.children[0].children[0].children[2].style.borderColor = "rgb(0, 255, 247)";


       tableBox.children[0].children[1].children[1].style.borderColor = "rgb(0, 255, 247)";


       tableBox.children[0].children[2].children[0].style.borderColor = "rgb(0, 255, 247)";

       if(tableBox.children[0].children[0].children[2].textContent === players[0]&&
    tableBox.children[0].children[1].children[1].textContent === players[0]&&   
    tableBox.children[0].children[2].children[0].textContent === players[0] ){
        displayResult('Player 1 Won');
        tableBox.removeEventListener("click", clickHandler);
        return;
    } else {
        displayResult("player 2 Won");
        tableBox.removeEventListener("click", clickHandler);
        return;
    }
    }
}

    //For draw
   
     if(count === 9){
        displayResult("It is a Tie");
     }
    
}  
compareChoice();


console.log("a");
}}


function displayResult(result) {
  textResult = document.createElement("h2");
  textResult.innerText = result;
  document.body.appendChild(textResult);

}

function functionToShow() {

  var class1 =
  document.querySelector('.firstClass')
  var class2 =
document.querySelector('.secondClass')

  if(class1.style.display === "none" && class2.style.display === "block"){
    class1.style.display = "block";
    class2.style.display = "none"
}else
    {
        class1.style.display = "none";
        class2.style.display = "block";    }
//    class2 =
//   document.querySelector('secondClass')
   
 
  }
//   function functionToShow2() {

// var class2 =
// document.querySelector('.secondClass')
// if(class2.style.display === "none"){
//   class2.style.display = "block";}else
//   {
//       class2.style.display = "block";
//   }
//    class2 =
//   document.querySelector('secondClass')
 

//}
</script>
    
    
</body>
</html>